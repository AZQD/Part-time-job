lua_shared_dict infopub_themples 2m;
lua_shared_dict infopub_session 20m;

server {
    listen       82;
    server_name  infopub.com;
    server_tokens off;
    more_set_headers 'Server: nginx';
    charset utf-8;

    chunked_transfer_encoding off;
    lua_code_cache off;

    set $base_dir  '/usr/local/openresty/nginx/html/lusaka/infopub';

    resolver 10.202.72.118;
    location / {
        root   html/tmp;
        index  index.html index.htm;
    }

    location /reg {
		default_type text/html;
        content_by_lua_file $base_dir/lua/user_reg.lua;
    }

    location /login {
		default_type text/html;
        content_by_lua_file $base_dir/lua/user_login.lua;
    }
    
    location /test {
    	default_type text/html;
    	content_by_lua_file $base_dir/lua/test.lua;
    }
}

